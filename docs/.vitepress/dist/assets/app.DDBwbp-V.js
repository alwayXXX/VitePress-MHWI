import{i as d,c as S,m as C,u as L,p as b,R,a as x,b as T,d as I,C as k,s as D,e as q,f as P}from"./chunks/theme.DR3UUiI0.js";import{d as y,g as H,h as v,p as w,w as M,v as O,U as F,z as N}from"./chunks/framework.6pEqBRGy.js";const U=y({setup(t,{slots:e}){const n=H(!1);return v(()=>{n.value=!0}),()=>n.value&&e.default?e.default():null}});function V(){d&&window.addEventListener("click",t=>{var n;const e=t.target;if(e.matches(".vp-code-group input")){const o=(n=e.parentElement)==null?void 0:n.parentElement;if(!o)return;const c=Array.from(o.querySelectorAll("input")).indexOf(e);if(c<0)return;const a=o.querySelector(".blocks");if(!a)return;const r=Array.from(a.children).find(l=>l.classList.contains("active"));if(!r)return;const s=a.children[c];if(!s||r===s)return;r.classList.remove("active"),s.classList.add("active");const i=o==null?void 0:o.querySelector(`label[for="${e.id}"]`);i==null||i.scrollIntoView({block:"nearest"})}})}function _(){if(d){const t=new WeakMap;window.addEventListener("click",e=>{var o;const n=e.target;if(n.matches('div[class*="language-"] > button.copy')){const c=n.parentElement,a=(o=n.nextElementSibling)==null?void 0:o.nextElementSibling;if(!c||!a)return;const r=/language-(shellscript|shell|bash|sh|zsh)/.test(c.className),s=[".vp-copy-ignore",".diff.remove"],i=a.cloneNode(!0);i.querySelectorAll(s.join(",")).forEach(u=>u.remove());let l=i.textContent||"";r&&(l=l.replace(/^ *(\$|>) /gm,"").trim()),$(l).then(()=>{n.classList.add("copied"),clearTimeout(t.get(n));const u=setTimeout(()=>{n.classList.remove("copied"),n.blur(),t.delete(n)},2e3);t.set(n,u)})}})}}async function $(t){try{return navigator.clipboard.writeText(t)}catch{const e=document.createElement("textarea"),n=document.activeElement;e.value=t,e.setAttribute("readonly",""),e.style.contain="strict",e.style.position="absolute",e.style.left="-9999px",e.style.fontSize="12pt";const o=document.getSelection(),c=o?o.rangeCount>0&&o.getRangeAt(0):null;document.body.appendChild(e),e.select(),e.selectionStart=0,e.selectionEnd=t.length,document.execCommand("copy"),document.body.removeChild(e),c&&(o.removeAllRanges(),o.addRange(c)),n&&n.focus()}}function j(t,e){let n=!0,o=[];const c=a=>{if(n){n=!1,a.forEach(s=>{const i=h(s);for(const l of document.head.children)if(l.isEqualNode(i)){o.push(l);return}});return}const r=a.map(h);o.forEach((s,i)=>{const l=r.findIndex(u=>u==null?void 0:u.isEqualNode(s??null));l!==-1?delete r[l]:(s==null||s.remove(),delete o[i])}),r.forEach(s=>s&&document.head.appendChild(s)),o=[...o,...r].filter(Boolean)};w(()=>{const a=t.data,r=e.value,s=a&&a.description,i=a&&a.frontmatter.head||[],l=S(r,a);l!==document.title&&(document.title=l);const u=s||r.description;let m=document.querySelector("meta[name=description]");m?m.getAttribute("content")!==u&&m.setAttribute("content",u):h(["meta",{name:"description",content:u}]),c(C(r.head,G(i)))})}function h([t,e,n]){const o=document.createElement(t);for(const c in e)o.setAttribute(c,e[c]);return n&&(o.innerHTML=n),t==="script"&&e.async==null&&(o.async=!1),o}function z(t){return t[0]==="meta"&&t[1]&&t[1].name==="description"}function G(t){return t.filter(e=>!z(e))}const g=new Set,A=()=>document.createElement("link"),B=t=>{const e=A();e.rel="prefetch",e.href=t,document.head.appendChild(e)},X=t=>{const e=new XMLHttpRequest;e.open("GET",t,e.withCredentials=!0),e.send()};let f;const W=d&&(f=A())&&f.relList&&f.relList.supports&&f.relList.supports("prefetch")?B:X;function J(){if(!d||!window.IntersectionObserver)return;let t;if((t=navigator.connection)&&(t.saveData||/2g/.test(t.effectiveType)))return;const e=window.requestIdleCallback||setTimeout;let n=null;const o=()=>{n&&n.disconnect(),n=new IntersectionObserver(a=>{a.forEach(r=>{if(r.isIntersecting){const s=r.target;n.unobserve(s);const{pathname:i}=s;if(!g.has(i)){g.add(i);const l=b(i);l&&W(l)}}})}),e(()=>{document.querySelectorAll("#app a").forEach(a=>{const{hostname:r,pathname:s}=new URL(a.href instanceof SVGAnimatedString?a.href.animVal:a.href,a.baseURI),i=s.match(/\.\w+$/);i&&i[0]!==".html"||a.target!=="_blank"&&r===location.hostname&&(s!==location.pathname?n.observe(a):g.add(s))})})};v(o);const c=L();M(()=>c.path,o),O(()=>{n&&n.disconnect()})}function E(t){if(t.extends){const e=E(t.extends);return{...e,...t,async enhanceApp(n){e.enhanceApp&&await e.enhanceApp(n),t.enhanceApp&&await t.enhanceApp(n)}}}return t}const p=E(R),K=y({name:"VitePressApp",setup(){const{site:t,lang:e,dir:n}=P();return v(()=>{w(()=>{document.documentElement.lang=e.value,document.documentElement.dir=n.value})}),t.value.router.prefetchLinks&&J(),_(),V(),p.setup&&p.setup(),()=>N(p.Layout)}});async function Q(){globalThis.__VITEPRESS__=!0;const t=Z(),e=Y();e.provide(x,t);const n=T(t.route);return e.provide(I,n),e.component("Content",k),e.component("ClientOnly",U),Object.defineProperties(e.config.globalProperties,{$frontmatter:{get(){return n.frontmatter.value}},$params:{get(){return n.page.value.params}}}),p.enhanceApp&&await p.enhanceApp({app:e,router:t,siteData:D}),{app:e,router:t,data:n}}function Y(){return F(K)}function Z(){let t=d,e;return q(n=>{let o=b(n),c=null;return o&&(t&&(e=o),(t||e===o)&&(o=o.replace(/\.js$/,".lean.js")),c=import(o)),d&&(t=!1),c},p.NotFound)}d&&Q().then(({app:t,router:e,data:n})=>{e.go().then(()=>{j(e.route,n.site),t.mount("#app")})});export{Q as createApp};
